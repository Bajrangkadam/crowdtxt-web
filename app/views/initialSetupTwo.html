

<style type="text/css">
  .required{
    color: red;
  }
</style>

<style type="text/css">
  @media screen and (min-width: 250px) and (max-width: 992px) { 

    .col-xs-8{
          display: table;
          width: 90%;
          position: relative;
          margin-left: 5%;
    }
  }
</style>




         <!-- Toast Notification for delete.. -->

                <div class="alerts-container slideDown showAlertClass" style="display:none">
                 <div class="alert alert-info alert-dismissible" role="alert">
                  <button type="button" class="close" data-dismiss="alert">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                  </button>
                   <strong>Uploaded file processed successfully, please proceed to Invite</strong>
                 </div> 
                </div>


                 <div class="alerts-container slideDown showAlertOnUnsupportedClass" style="display:none">
                 <div class="alert alert-info alert-dismissible" role="alert">
                  <button type="button" class="close" data-dismiss="alert">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                  </button>
                   <strong>Unsupported file format</strong>
                 </div> 
                </div>

                 <div class="alerts-container slideDown showAlertOnfileOnCorruptedClass" style="display:none">
                 <div class="alert alert-info alert-dismissible" role="alert">
                  <button type="button" class="close" data-dismiss="alert">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                  </button>
                   <strong>File format correct but file corrupted</strong>
                 </div> 
                </div>

                 <div class="alerts-container slideDown showAlertOnSuccessClass" style="display:none">
                 <div class="alert alert-info alert-dismissible" role="alert">
                  <button type="button" class="close" data-dismiss="alert">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                  </button>
                   <strong>Successfully uploaded user data</strong>
                 </div> 
                </div>

                <div class="alerts-container slideDown userLimitOver" style="display:none">
                 <div class="alert alert-danger alert-dismissible" role="alert">
                  <button type="button" class="close" data-dismiss="alert">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                  </button>
                   <strong>Your limit has been over, you can not add more users.</strong>
                 </div> 
                </div>

                <div class="alerts-container slideDown showAlertOnexistingUser" style="display:none">
                 <div class="alert alert-warning alert-dismissible" role="alert">
                  <button type="button" class="close" data-dismiss="alert">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                  </button>
                   <strong>Group added successfully, But user already exist</strong>
                 </div> 
                </div>

                <div class="alerts-container slideDown showAlertOnexistingGroup" style="display:none">
                 <div class="alert alert-success alert-dismissible" role="alert">
                  <button type="button" class="close" data-dismiss="alert">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                  </button>
                   <strong>Group already exist</strong>
                 </div> 
                </div>

                 <div class="alerts-container slideDown alteastOneGroup" style="display:none">
                 <div class="alert alert-success alert-dismissible" role="alert">
                  <button type="button" class="close" data-dismiss="alert">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                  </button>
                   <strong>Create aleast one group and proceed.</strong>
                 </div> 
                </div>

                 <div class="alerts-container slideDown showAlertOnSuccessEntry" style="display:none">
                 <div class="alert alert-success alert-dismissible" role="alert">
                  <button type="button" class="close" data-dismiss="alert">
                    <span aria-hidden="true">×</span>
                    <span class="sr-only">Close</span>
                  </button>
                   <strong>Group added sucessfully </strong>
                 </div> 
                </div>












<div class="main" role="main">
            
            <div id="page-content" class="">
                <div class="scrollable container">
                    <div class="row">
                        <div class="col-sm-12">
                            <!--<div class="page-headers cus-panels-with-pad">
                                <h3>Initial Setup</h3>
                            </div>  .page-header End -->
                            <div class="contents">
                               
                               <div class="row">
                                   <div class="col-sm-12">
                                       <div class="initial-setup-header text-center">
                                           <h2>Setup Your Crowd Notifications</h2>
                                           <p>Fill the form below &nbsp;→&nbsp; Invite the Users &nbsp;→&nbsp; Get Started with the Application</p>
                                       </div><br><br>
                                   </div>
                               </div>
                               <div class="row">
                                   <div class="stepwizard col-xs-offset-3 col-md-offset-3">
                                    <div class="stepwizard-row setup-panel">
                                      <div class="stepwizard-step">
                                        <a href="" type="button" class="btn btn-primary btn-circle">1</a>
                                        <p>Complete registration</p>
                                      </div>
                                      <div class="stepwizard-step">
                                        <a href="" type="button" class="btn btn-primary btn-circle">2</a>
                                        <p>Create groups</p>
                                      </div>
                                      <div class="stepwizard-step">
                                        <a href="" type="button" class="btn btn-default btn-circle">3</a>
                                        <p>Invite people</p>
                                      </div>
                                     <!--  <div class="stepwizard-step">
                                        <a href="#step-4" type="button" class="btn btn-default btn-circle" disabled="disabled">4</a>
                                        <p>Invite</p>
                                      </div> -->
                                    </div>
                                </div>
                             </div>
  




                
    <div class="row container setup-content" id="step-2">
      <div class="col-xs-8 col-md-offset-2 cus-panels-with-pad">
        <div class="text-center">
           <!-- <i class="fa fa-users fa-5x"></i><br> -->
            <h4>Create a group, later users can join/subscribe to get notified about various events</h4><br>
            <button type="button" ng-show="createGroupBtn" ng-click="createGroupBtn();" class="sec-cus-buttons">Create Group</button>
        </div>




            <div class="col-sm-12" ng-show="createGroupForm">
             
               <fieldset class="per-info">

                 <form name="myformGroup" ng-submit="add();" novalidate>


                <div>
                  <div class="row">
                    <div class="col-sm-5">
                            <div class="form-group">
                                <input type="text" class="form-control col-sm-4" name="newGroup" placeholder="Enter the group name" id="g-name" ng-model="newGroup" required/>
                                <span class="required" ng-show="submittedGroup && myformGroup.newGroup.$invalid">Invalid or no content in the field</span>
                        <span class="required" ng-show="submittedGroup && myformGroup.newGroup.$error.pattern">valid group name</span>
                            </div>
                        </div>
                        <div class="col-sm-5">
                            <div class="form-group">
                                <input type="text" class="form-control col-sm-4" name="groupPurpose" placeholder="Enter the purpose" id="g-name" ng-model="groupPurpose" required />
                                <span class="required" ng-show="submittedGroup && myformGroup.groupPurpose.$invalid">Invalid or no content in the field</span>
                        <span class="required" ng-show="submittedGroup && myformGroup.groupPurpose.$error.pattern">valid purpose</span>
                            </div>
                        </div>

                        <div class="col-sm-2">
                          <i class="fa fa-question-circle fa-2x" tooltip-placement="bottom" tooltip="Please enter, why are you inviting people to this group. This will be sent in email or text" ></i>
                  </div>
                        </div>

                 
                  <div class="row">
                    <div class="col-sm-12">
                            <div class="inline-options">
                                <div class="checkbox">
                                  <li ng-repeat="role in roles" style="list-style-type: none; text-align:left;">
                                 <label  tooltip-placement="right" tooltip="If enabled, users can later request to join other groups, which will be notified in your end. You can accept it or decline it.">
                                  <input type="checkbox" name="groupCheck" ng-model="result.id" ng-change="groupChange();" ng-true-value="{{role.id}}" ng-false-value="0"> {{role.text}} &nbsp;&nbsp;
                                  </label>
                                  </li>
                                </div>
                               </div>
                                <span class="required text-left" ng-show="submittedGroup12">Required Group selection</span>
                        </div>


                  </div>

                  

                                


                                <div class="row" ng-show="showAddApprover">
                                  <hr>
                                  <div class="col-sm-12">
                                    <button type="button" ng-click="showAddApproverInputs();" class="sec-cus-buttons">Add approver</button><a tooltip="This person will be a approver for future user request" tooltip-placement="right"> What this ?</a>
                                  </div>
                                  <!-- <div class="col-sm-8">
                                    <h4>What this ?</h4>
                                  </div>  -->
                                </div>

                                <div class="row" ng-show="showaddApproverDetails">
                                  <hr>

                                  <div class="text-center"><h3>Enter approver details</h3></div><br><br>

                                  <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="f-name">First Name</label>
                                            <input type="text" ng-model="firstName" name="firstName" ng-pattern="/^[a-zA-Z ]*$/" class="form-control" id="f-name" ng-required="showaddApproverDetails" >
                                            <!-- <span class="required hidden">Validation Error</span> -->
                                            <span class="required" ng-show="submittedGroup && myformGroup.firstName.$invalid">Required</span>
                                            <span class="required" ng-show="submittedGroup && myformGroup.firstName.$error.pattern">valid first name</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="l-name">Last Name</label>
                                            <input type="text" ng-model="lastName" name="lastName" ng-pattern="/^[a-zA-Z ]*$/" class="form-control" id="l-name" ng-required="showaddApproverDetails" >
                                            <!-- <span class="required hidden">Validation Error</span> -->
                                            <span class="required" ng-show="submittedGroup && myformGroup.lastName.$invalid">Required</span>
                                            <span class="required" ng-show="submittedGroup && myformGroup.lastName.$error.pattern">valid last name</span>
                                        </div>
                                    </div>
                                     </div>

                                    <div class="row">
                                     <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="email">Email</label>
                                            <input type="email" ng-model="emailss" name="emailss" ng-pattern="/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/" class="form-control" id="email" ng-required="showaddApproverDetails" >
                                            <!-- <span class="required hidden">Validation Error</span> -->
                                            <span class="required" ng-show="submittedGroup && myformGroup.emailss.$invalid">Required</span>
                                            <span class="required" ng-show="submittedGroup && myformGroup.emailss.$error.pattern">valid email id</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="mob-no">Mobile Number</label>
                                            <input type="text" ng-model="mobileNoss" name="mobileNoss"  class="form-control" ng-pattern="/^$|^(?:1-?)?[(]?\d{3}[)]?\s?-?\s?\d{3}\s?-?\s?\d{4}$/" id="mob-no">
                                            <!-- <span class="required hidden">Validation Error</span> -->
                                            <span class="required" ng-show="submittedGroup && myformGroup.mobileNoss.$invalid">Required</span>
                                            <span class="required" ng-show="submittedGroup && myformGroup.mobileNoss.$error.pattern">valid mobile number</span>
                                        </div>
                                    </div>
                                    </div>
                                    <!-- <div class="text-center pad-5">
                                      <button type="button" ng-click="hideUploadUserDetails();" class="btn btn-default">Cancel</button>
                                      <button type="button" class="sec-cus-buttons">Save</button>
                                    </div> -->
                                    <hr>
                                </div>



                                 




                   <div ng-show="showAddPrivateUserToGroupBtn"><hr>
                      <div><button type="button" class="sec-cus-buttons" ng-click="addUsersToPrivate();">Add users now</button> <b> OR </b> <span> <button type="button" class="sec-cus-buttons" ng-click="addUsersToPrivateLater();">Later</button></span></div>
                      <hr>
                   </div>


                 <div class="col-sm-12" ng-show="showAddPrivateUserToGroup">
                          <br><br>
                          <hr>

                            <div class="text-center"><h3>Enter private user details</h3></div><br><br>

                            <fieldset class="per-info">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="f-name">First Name</label>
                                            <input type="text" ng-model="firstNamep" name="firstNamep" class="form-control" id="firstNamep" >
                                            <!-- <span class="required hidden">Validation Error</span> -->
                                            <span style="color:red;" ng-show="firstNamepMsg">Required valid first Name</span>
                                            <!-- <span class="required" ng-show="submittedGroup && myformGroup.firstName.$invalid">Required</span>
                                            <span class="required" ng-show="submittedGroup && myformGroup.firstName.$error.pattern">valid first name</span> -->
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="l-name">Last Name</label>
                                            <input type="text" ng-model="lastNamep" name="lastNamep" class="form-control" id="lastNamep" >
                                           <!--  <span class="required hidden">Validation Error</span> -->
                                           <span style="color:red;" ng-show="lastNamepMsg">Required</span>
                                           <span class="required" ng-show="submittedGroup && myformGroup.firstName.$invalid">Required</span>
                                            <span class="required" ng-show="submittedGroup && myformGroup.firstName.$error.pattern">valid last name</span>
                                        </div>
                                    </div>

                                  </div>
                                   <div class="row">
                                     <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="email">Email</label>
                                            <input type="email" ng-model="emailp" name="emailp" class="form-control" id="emailp" >
                                            <!-- <span class="required hidden">Validation Error</span> -->
                                            <span style="color:red;" ng-show="emailpMsg">Required valid email id</span>
                                            <span class="required" ng-show="submittedGroup && myformGroup.firstName.$invalid">Required</span>
                                            <span class="required" ng-show="submittedGroup && myformGroup.firstName.$error.pattern">valid email id</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-6">
                                        <div class="form-group">
                                            <label for="mob-no">Mobile Number</label>
                                            <input type="text" ng-model="mobileNop" name="mobileNop" class="form-control" ng-pattern="/^$|^(?:1-?)?[(]?\d{3}[)]?\s?-?\s?\d{3}\s?-?\s?\d{4}$/" id="mobileNop" >
                                            <!-- <span class="required hidden">Validation Error</span> -->
                                            <span style="color:red;" ng-show="mobileNopMsg">Required valid mobile number</span>
                                           <!--  <span class="required" ng-show="submittedGroup && myformGroup.firstName.$invalid">Required</span>
                                            <span class="required" ng-show="submittedGroup && myformGroup.firstName.$error.pattern">valid first name</span> -->
                                        </div>
                                    </div>
                                    <div class="text-center pad-5">
                                      <button type="button" ng-click="hidePrivateAddFields();" class="btn btn-default">Cancel</button>
                                      <button type="button" class="sec-cus-buttons" ng-click="addPrivateUsers();">Save</button>
                                    </div>
                                </div>
                            </fieldset>
                            <br>

                            <div class="table-responsive" ng-show="showPrivateList">          
                              <table class="table">
                                <thead>
                                  <tr>
                                    <th>First Name</th>
                                    <th>Last Name</th>
                                    <th>Email</th>
                                    <th>Mobile Number</th>
                                    <th class="text-center">Action</th>
                                  </tr>
                                </thead>
                               <tbody>
                                  <tr ng-repeat="privateUser in privateUsers">
                                    <td ng-hide="edit">{{privateUser.firstName}}</td>
                                    <td ng-show="edit"><input type="text" ng-model="privateUser.firstName" id="privateUserfirstName" ng-show="edit" />
                                      <span ng-show="privatefirstName" style="color:red;">Required valid first name</span>
                                    </td>

                                    <td ng-hide="edit">{{privateUser.lastName}}</td>
                                    <td ng-show="edit"><input type="text" ng-model="privateUser.lastName" id="privateUserlastName" ng-show="edit" />
                                      <span ng-show="privatelastName" style="color:red;">Required valid last name</span>
                                    </td>

                                    <td ng-hide="edit">{{privateUser.emailid}}</td>
                                    <td ng-show="edit"><input type="email" ng-model="privateUser.emailid" id="privateUseremailid" ng-show="edit" />
                                    <span ng-show="privateEmail" style="color:red;">Required valid email id</span>
                                    </td>

                                    <td ng-hide="edit">{{privateUser.phone}}</td>
                                    <td ng-show="edit"><input type="text" ng-model="privateUser.phone" id="privateUserphone" ng-show="edit" />
                                    <span ng-show="privatemobile" style="color:red;">Required valid mobile</span>
                                    </td>

                                    <td  ng-show="edit"><button type="button" class="btn btn-default savePrivateUserss" ng-show="edit" ng-click="edit=false">Cancel</button></td>
                                    <td  ng-show="edit"><button type="button" class="sec-cus-buttons" ng-show="edit" ng-click="editPrivateUserss();">Save</button></td>
                                   
                                    <td class="text-center"><i class="fa fa-trash-o" ng-hide="edit" ng-click="removePrivateUser($index)"></i>  </td>
                                    <td class="text-center"><i class="fa fa-pencil-square-o" ng-hide="edit" ng-click="edit=true"></i></td>
                                    
                                  </tr>
                                </tbody>
                              </table>
                            </div>


                            
                         </div>









                  <div class="row" style="margin-top:3%;">
                    <!-- <div class="col-sm-4" id="hideInPrivate"> <button type="button" class="sec-cus-buttons" ng-click="add()">Save group</button><br><br></div> -->
                    <div class="col-sm-4" id="hideInPrivate"> <button type="submit" class="sec-cus-buttons">Save group</button><br><br></div>
                     <!-- <div class="col-sm-4" style="display:none;" id="showInPrivate"> <button type="button" class="sec-cus-buttons" ng-click="addPrivateGroupUsers();">Save private group </button><br><br></div> -->
                  </div>

                  <hr>

                </div>




                  <!-- <div class="row"> -->
                      <!-- <div class="col-sm-4">
                          <div class="form-group">
                              <input type="text" class="form-control col-sm-4" id="g-name" ng-model="newGroup" />
                          </div>
                      </div> -->
                     <!--  <div class="col-sm-5">
                            <div class="single-w-lh">
                             <div class="inline-options">
                              <div class="checkbox">
                               <label ng-repeat="role in roles" data-toggle="tooltip" data-placement="bottom" title="If enabled, users can later request to join other groups, which will be notified in your end. You can accept it or decline it.">
                                <input id="{{role.text}}" onbeforesave="validateRequired($data)" ng-click="$last&&mytest(checked)" ng-disabled="user.text " type="checkbox" checklist-model="user.roles" checklist-value="role.text">{{role.text}} &nbsp;&nbsp;
                                </label>
                              </div>
                             </div>
                            </div>
                      </div> -->
                      <!-- <div class="col-sm-3"> <button type="button" class="sec-cus-buttons" ng-click="add()">Save group</button><br><br></div> -->
                  <!-- </div> -->

                </form>
               </fieldset>

               <!--  <div class="col-sm-6 cus-panels">
                    <div class="form-group" ng-repeat="i in groups">
                    <span ng-click="edit=true" ng-hide="edit"><b>{{i.name}}</b></span>&nbsp;&nbsp; <span class="label label-danger">{{ i.status || empty }}</span>
                    <input type="text" ng-model="i.name" ng-show="edit" />
                    <button type="button" class="sec-cus-buttons" ng-show="edit" ng-click="edit=!edit">Save</button>
                 </div>
                </div> -->


               <!--   <div class="col-sm-6">
                    <ul class="list-group" ng-repeat="i in groups">
                    <li class = "list-group-item" ng-click="edit=true" ng-hide="edit"><b>{{i.name}}</b>&nbsp;&nbsp; <span class="label label-danger">{{ i.status || empty }}</span><b>{{ i.purpose || empty }}</b></li>
                    <input type="text" ng-model="i.name" ng-show="edit" /> <input type="text" ng-model="i.status" ng-show="edit" /><input type="text" ng-model="i.purpose" ng-show="edit" />
                    <button type="button" class="sec-cus-buttons" ng-show="edit" ng-click="edit=!edit">Save</button>
                 </ul>
                </div>
 -->








                <div class="table-responsive" ng-hide="hideGroupTableInPrivate">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Group Name</th>
                            <th>Group Type</th>
                            <th>Purpose of Group</th>
                            <th>Who's Approved</th>
                            <!-- <th>Who's Subscribed</th> -->
                            <!-- <th>Action</th> -->
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="i in groupDetails">

                           <td >{{i.groupName}} </td>
                            
                            <td ><span class="{{ i.newClass}}">{{ i.isPublic || empty }}</span></td>
                            
                            <td >{{ i.purpose || empty }}</td>
                             
                            <td  ng-if="i.adminApproved=='Y'">{{i.groupCreatedBy}} &nbsp; {{i.approverName.toString()}}</td>
                             <td  ng-if="i.adminApproved=='N'">{{i.groupCreatedBy}}</td>

                           <!--  <td ng-hide="edit">{{i.groupName}} </td>
                            <td ng-show="edit" ><input type="text" ng-model="i.groupName" ng-show="edit" /></td>
                            <td ng-hide="edit" ><span class="{{ i.newClass}}">{{ i.isPublic || empty }}</span></td>
                             <td ng-show="edit" ><input type="text" ng-model="i.isPublic" ng-show="edit" /></td>
                            <td ng-hide="edit">{{ i.purpose || empty }}</td>
                             <td ng-show="edit" ><input type="text" ng-model="i.purpose" ng-show="edit" /></td>
                            <td ng-hide="edit" ng-if="i.adminApproved=='Y'">{{i.groupCreatedBy}} &nbsp; {{i.approverName}}</td>
                             <td ng-hide="edit" ng-if="i.adminApproved=='N'">{{i.groupCreatedBy}}</td>
 -->

                             <!-- <td ng-show="edit" ><input type="text" ng-model="" ng-show="edit" /></td> -->

                           <!--  <td ng-hide="edit"><i class="fa fa-eye dropdown-toggle" type="button" ></i></td> -->
                             <!-- <td ng-show="edit" ><input type="text" ng-model="" ng-show="edit" /></td> -->



                          <!--   <td class=""><i class="fa fa-trash-o" ng-click="removeGroup($index)"></i>  </td>
                            <td class=""><i class="fa fa-pencil-square-o" ng-click="edit=true" ></i></td> -->


                             <!-- <td><button type="button" class="sec-cus-buttons" ng-show="edit" ng-click="edit=!edit">Save</button></td> -->
                        </tr>

                       
                       
                    </tbody>
                </table>
            </div>


              
             

            </div>

           



          <button class="btn btn-default pull-left" ng-click="goBackToStep1();" type="button">Back</button>
          <button class="btn btn-primary pull-right" ng-click="gotoStep3();" type="button">Next</button>
      </div>
    </div>







      </div>
    </div>
 </div>


